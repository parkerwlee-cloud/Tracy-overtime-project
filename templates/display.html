cat > templates/display.html <<'EOF'
{% extends "_base.html" %}
{% block content %}
<h2>Wallboard</h2>

{% for day in grid %}
  <div class="card">
    <div class="row">
      <h3 style="margin:0">{{ day.date }}</h3>
      {% for r in day.rows %}
        {% if r.state_hint %}
          <span class="tag" title="{{ r.state_hint }}">{{ r.state_hint }}</span>
        {% endif %}
      {% endfor %}
    </div>

    <table>
      <thead>
        <tr>
          <th style="width:120px">Slot</th>
          <th style="width:140px">Capacity</th>
          <th style="width:140px">Taken</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        {% for r in day.rows %}
        <tr>
          <td>{{ r.label }}</td>
          <td>{{ r.capacity }}</td>
          <td>{{ r.taken }}</td>
          <td>
            {% if r.disabled %}
              <span class="muted">{{ r.state_hint or "Closed" }}</span>
            {% elif r.capacity <= r.taken %}
              <span class="muted">Full</span>
            {% else %}
              <span class="muted">Open</span>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endfor %}

{% endblock %}
EOF
